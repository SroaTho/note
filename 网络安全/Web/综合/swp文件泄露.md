# swp文件泄露

vim中的swp即swap（交换分区）的简写，在编辑文件时产生，它是隐藏文件。这个文件是一个临时交换文件，用来备份缓冲区中的内容。

1.当你用多个程序编辑同一个文件时

2.非正常退出时

例如：我们在访问网站主页时一般默认定向到index.php，以php结尾的文件服务器会对其进行解析，我们无法看到php原始的文件内容。

但是如果index.php文件有过非正常退出的情况，在其同等目录下会生成一个.index.php.swp文件，由于该文件不是php结尾的，所有服务器不会对该文件进行解析，如果会将该文件的所有内容直接返回过来，就有会造成index.php中的源码泄露问题。



ctf例子



访问index.php看看，发现时正常的php处理过的页面

![image-20231103094334068](images/swp%E6%96%87%E4%BB%B6%E6%B3%84%E9%9C%B2.assets/image-20231103094334068.png)



尝试访问.index.php.swp看看有没有swp文件泄露，发现有swp文件泄露，成功拿到index.php源码

![image-20231103094514360](images/swp%E6%96%87%E4%BB%B6%E6%B3%84%E9%9C%B2.assets/image-20231103094514360.png)



格式化源代码

![image-20240103123812400](images/swp%E6%96%87%E4%BB%B6%E6%B3%84%E9%9C%B2.assets/image-20240103123812400.png)