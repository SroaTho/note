# 无类别域间路由

# CIDR无类别域间路由和超网

超网是将多个网络聚合到一个更大的网络的过程，从而节省路由表中的存储空间，简化路由决策。

无类别域间路由是基于**可变长子网掩码（VLSM）**来进行任意长度的前缀的分配的。

当多个网络被组合成一个更大的网络时，它被称为超网。超网用于路由聚合，以减小路由表和路由表更新的大小。



![image-20231223225319749](images/%E6%97%A0%E7%B1%BB%E5%88%AB%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1.assets/image-20231223225319749.png)

例如，R1连接R2，R2连接四个路由器，每个路由器负责一个网段。假设4个网段为C类的小网络，分别是：

- 200.1.0.0
- 200.1.1.0
- 200.1.2.0
- 200.1.3.0



在进行超网之前，R1到R2的路由表将如下所示：

| 网络ID    | 子网掩码      | 下一跳 |
| :-------- | :------------ | :----- |
| 200.1.0.0 | 255.255.255.0 | R2     |
| 200.1.1.0 | 255.255.255.0 | R2     |
| 200.1.2.0 | 255.255.255.0 | R2     |
| 200.1.3.0 | 255.255.255.0 | R2     |



四个网段的第三字节为，由此可见，可以聚合为255.255.252.0，则R1到R2的路由可以简化为1条

```
00000000
00000001
00000010
00000011
```

| 网络ID    | 子网掩码      | 下一跳 |
| :-------- | :------------ | :----- |
| 200.1.0.0 | 255.255.252.0 | R2     |

